# CypherPoetCoreDataKit

<p align="center">
   <img width="600px" src="./Resources/Images/Banner-1.png" alt="CypherPoetCoreDataKit Header Image">
</p>

<p>
    <img src="https://img.shields.io/badge/Swift-5.3-F06C33.svg" />
    <img src="https://img.shields.io/badge/iOS-13.0+-865EFC.svg" />
    <img src="https://img.shields.io/badge/iPadOS-13.0+-F65EFC.svg" />
    <img src="https://img.shields.io/badge/macOS-10.15+-179AC8.svg" />
    <img src="https://img.shields.io/badge/tvOS-13.0+-41465B.svg" />
    <img src="https://img.shields.io/badge/watchOS-6.0+-1FD67A.svg" />
    <img src="https://img.shields.io/badge/License-MIT-blue.svg" />
    <img src="https://github.com/CypherPoet/CypherPoetCoreDataKit/workflows/Build%20&%20Test/badge.svg" />
    <a href="https://github.com/apple/swift-package-manager">
      <img src="https://img.shields.io/badge/spm-compatible-brightgreen.svg?style=flat" />
    </a>
    <a href="https://twitter.com/cypher_poet">
        <img src="https://img.shields.io/badge/Contact-@cypher_poet-lightgrey.svg?style=flat" alt="Twitter: @cypher_poet" />
    </a>
</p>


<p align="center">

_A collection of utilities for building Core Data applications in SwiftUI._

<p />


## üöß Disclaimer

This library is still very much a WIP as I study some of the new best practices, patterns, and affordances for Core Data after the release of SwiftUI 2.0. Please treat it as a guideline/reference for the time being üôÇ.


## Features

- ‚úÖ A [`CoreDataManager`](./Sources/CoreDataManager/) that handles setting up your ["Core Data Stack"](https://developer.apple.com/documentation/coredata/core_data_stack).
- ‚úÖ A [`FetchedResultsControlling` protocol](./Sources/FetchUtils/FetchedResultsControlling.swift) that helps architect `NSFetchedResultsController` instances and extract data from their `NSFetchRequest` results.
- ‚úÖ Predicate Utilities
- ‚úÖ Strongly-typed errors for save operations.
- ‚úÖ `NSPersistentStore` helpers for using `NSSQLiteStoreType` in production apps and `NSInMemoryStoreType` in tests or previews:



## Installation

### Xcode Projects

Select `File` -> `Swift Packages` -> `Add Package Dependency` and enter `https://github.com/CypherPoet/CypherPoetCoreDataKit`.


### Swift Package Manager Projects

You can add `CypherPoetCoreDataKit` as a dependency in your `Package.swift` file:

```swift
let package = Package(
    //...
    dependencies: [
        .package(url: "https://github.com/CypherPoet/CypherPoetCoreDataKit", from: "0.0.16"),
    ],
    //...
)
```


Then simply `import CypherPoetCoreDataKit` wherever you‚Äôd like to use it.



## Usage

Usage of these utilities is best demonstrated by the [Example App](./Examples/ExampleApp/).

### Setting up the Core Data stack on launch by utilizing `CoreDataManager`'s default shared instance.
- [iOS Example](./Examples/ExampleApp/iOS/App/AppDelegate.swift)
- [macOS Example](./Examples/ExampleApp/macOS/App/AppDelegate.swift)
- üîë This corresponds to [setting `CoreDataManager.managedObjectModelName` to match](https://github.com/CypherPoet/CypherPoetCoreDataKit/blob/4382ac9205a97f91ee142cac9febdeb025098ee2/Examples/ExampleApp/Shared/Misc%20Helpers/Extensions/CoreDataManager%2BUtils.swift#L18) the name of your app's `xcdatamodeld` file.
- For more control and customization, a `CoreDataManager` instance can be [initialized directly](https://github.com/CypherPoet/CypherPoetCoreDataKit/blob/4382ac9205a97f91ee142cac9febdeb025098ee2/Sources/CoreDataManager/CoreDataManager.swift#L23) with a `managedObjectModelName` and a `storageStrategy`.


## Contributing

Contributions to `CypherPoetCoreDataKit` are most welcome. Check out some of the [issue templates](./.github/ISSUE_TEMPLATE/) for more info.



## Developing

### Requirements

- Xcode 12.0+ (for developing)


### Generating Documentation

Documentation is generated by [Jazzy](https://github.com/realm/jazzy). Installation instructions can be found [here](https://github.com/realm/jazzy#installation), and as soon as you have it set up, docs can be generated simply by running `jazzy` from the command line.

üìù Note that this will only generate the `docs` folder for you to view locally. This folder is being ignored by `git`, as an [action](./.github/workflows/PublishDocumentation.yml) exists to automatically generate docs and serve them on the project's `gh-pages` branch.


## License

`CypherPoetCoreDataKit` is available under the MIT license. See the [LICENSE file](./LICENSE) for more info.
